nohup: ignoring input
INFO:     Will watch for changes in these directories: ['/home/huihuahaisheng/app/excel2database']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [16726] using StatReload
INFO:     Started server process [16742]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     211.64.159.23:58175 - "GET / HTTP/1.1" 200 OK
✅ 数据库连接成功
INFO:     211.64.159.23:58175 - "GET /health HTTP/1.1" 200 OK
INFO:     211.64.159.23:58179 - "GET /files HTTP/1.1" 200 OK
INFO:     211.64.159.23:58180 - "GET /tables HTTP/1.1" 200 OK
INFO:     211.64.159.23:58180 - "GET /join_query HTTP/1.1" 200 OK
INFO:     211.64.159.23:58180 - "GET /tables HTTP/1.1" 200 OK
🔍 查询价差数据:
  - 日前节点电价关键词: 广东_日前节点电价
  - 实时节点电价关键词: 广东_实时节点电价
  - 日期列表: ['2025-12-17']
🔍 查询表: power_data_20251217
🚀 执行UNION查询:  SELECT * FROM power_data_20251217 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_日前节点电价%'
🔍 查询表: power_data_20251217
🚀 执行UNION查询:  SELECT * FROM power_data_20251217 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_实时节点电价%'
✅ 找到日前数据: 24 条
✅ 找到实时数据: 24 条
📊 日前数据示例:
  channel_name: ['日前节点电价查询_均值', '日前节点电价查询_均值', '日前节点电价查询_均值']
  record_date: ['2025-12-17', '2025-12-17', '2025-12-17']
  record_time: ['00:00', '01:00', '02:00']
📊 实时数据示例:
  channel_name: ['实时节点电价查询_均值', '实时节点电价查询_均值', '实时节点电价查询_均值']
  record_date: ['2025-12-17', '2025-12-17', '2025-12-17']
  record_time: ['00:00', '01:00', '02:00']
📊 合并键示例（日前）: ['2025-12-17_00:00', '2025-12-17_01:00', '2025-12-17_02:00']
📊 合并键示例（实时）: ['2025-12-17_00:00', '2025-12-17_01:00', '2025-12-17_02:00']
📊 合并键唯一值数量（日前）: 24
📊 合并键唯一值数量（实时）: 24
📊 合并结果: 24 条匹配记录
📊 日前数据唯一合并键数: 24
📊 实时数据唯一合并键数: 24
📊 价差计算示例:
  日前值: [359.38, 324.14, 322.42]
  实时值: [443.03, 337.59, 326.28]
  价差值（保留两位小数）: [-83.65, -13.45, -3.86]
✅ 价差计算完成，共 24 条记录
INFO:     211.64.159.23:58301 - "POST /price-difference HTTP/1.1" 200 OK
🔍 查询价差数据:
  - 日前节点电价关键词: 广东_日前节点电价
  - 实时节点电价关键词: 广东_实时节点电价
  - 日期列表: ['2025-12-17']
🔍 查询表: power_data_20251217
🚀 执行UNION查询:  SELECT * FROM power_data_20251217 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_日前节点电价%'
🔍 查询表: power_data_20251217
🚀 执行UNION查询:  SELECT * FROM power_data_20251217 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_实时节点电价%'
✅ 找到日前数据: 24 条
✅ 找到实时数据: 24 条
📊 日前数据示例:
  channel_name: ['日前节点电价查询_均值', '日前节点电价查询_均值', '日前节点电价查询_均值']
  record_date: ['2025-12-17', '2025-12-17', '2025-12-17']
  record_time: ['00:00', '01:00', '02:00']
📊 实时数据示例:
  channel_name: ['实时节点电价查询_均值', '实时节点电价查询_均值', '实时节点电价查询_均值']
  record_date: ['2025-12-17', '2025-12-17', '2025-12-17']
  record_time: ['00:00', '01:00', '02:00']
📊 合并键示例（日前）: ['2025-12-17_00:00', '2025-12-17_01:00', '2025-12-17_02:00']
📊 合并键示例（实时）: ['2025-12-17_00:00', '2025-12-17_01:00', '2025-12-17_02:00']
📊 合并键唯一值数量（日前）: 24
📊 合并键唯一值数量（实时）: 24
📊 合并结果: 24 条匹配记录
📊 日前数据唯一合并键数: 24
📊 实时数据唯一合并键数: 24
📊 价差计算示例:
  日前值: [359.38, 324.14, 322.42]
  实时值: [443.03, 337.59, 326.28]
  价差值（保留两位小数）: [-83.65, -13.45, -3.86]
✅ 价差计算完成，共 24 条记录
INFO:     211.64.159.23:58302 - "POST /price-difference HTTP/1.1" 200 OK
🔍 查询价差数据:
  - 日前节点电价关键词: 广东_日前节点电价
  - 实时节点电价关键词: 广东_实时节点电价
  - 日期列表: ['2025-12-18']
🔍 查询表: power_data_20251218
🚀 执行UNION查询:  SELECT * FROM power_data_20251218 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_日前节点电价%'
🔍 查询表: power_data_20251218
🚀 执行UNION查询:  SELECT * FROM power_data_20251218 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_实时节点电价%'
INFO:     211.64.159.23:58340 - "POST /price-difference HTTP/1.1" 200 OK
🔍 查询价差数据:
  - 日前节点电价关键词: 广东_日前节点电价
  - 实时节点电价关键词: 广东_实时节点电价
  - 日期列表: ['2025-12-18']
🔍 查询表: power_data_20251218
🚀 执行UNION查询:  SELECT * FROM power_data_20251218 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_日前节点电价%'
🔍 查询表: power_data_20251218
🚀 执行UNION查询:  SELECT * FROM power_data_20251218 WHERE channel_name LIKE '%均值%' AND type LIKE '%广东_实时节点电价%'
INFO:     211.64.159.23:58339 - "POST /price-difference HTTP/1.1" 200 OK
INFO:     211.64.159.23:58339 - "GET / HTTP/1.1" 200 OK
INFO:     211.64.159.23:58340 - "GET /files HTTP/1.1" 200 OK
✅ 数据库连接成功
INFO:     211.64.159.23:58339 - "GET /health HTTP/1.1" 200 OK
INFO:     211.64.159.23:58344 - "GET /tables HTTP/1.1" 200 OK
